<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>포모도로 타이머</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="">
    <div class="timer-container">
      <div class="progress-visualizer" id="progressVisualizer">
        <div class="progress-overlay fade-overlay" id="fadeOverlay"></div>
        <div
          class="progress-overlay image-effect-container"
          id="imageEffectContainer"
        >
          <img
            src=""
            alt="배경 이미지"
            id="backgroundImage"
            style="display: none"
            onerror="this.style.display='none';"
          />
          <div class="image-overlay" id="imageOverlay"></div>
        </div>
      </div>

      <div class="controls">
        <div class="time-info">
          <div id="currentTimeDisplay">--:--:--</div>
          <div class="timer-display" id="timerDisplay">--:--</div>
          <div class="timer-status" id="timerStatus">대기 중</div>
          <div class="notification-area" id="notificationArea"></div>
        </div>

        <div class="settings-area">
          <fieldset>
            <legend>타이머 설정</legend>
            <div>
              <label for="workDurationInput">집중 (분):</label>
              <input type="number" id="workDurationInput" value="25" min="1" />
            </div>
            <div>
              <label for="breakDurationInput">휴식 (분):</label>
              <input type="number" id="breakDurationInput" value="5" min="0" />
            </div>
            <div>
              <label for="delayInput">시작 지연 (초):</label>
              <input type="number" id="delayInput" value="3" min="0" />
            </div>
          </fieldset>

          <fieldset>
            <legend>알림 설정</legend>
            <div>
              <label for="notifyInput">알림 (분 전):</label>
              <input type="number" id="notifyInput" value="5" min="0" />
            </div>
            <div>
              <label>알림 방식:</label>
              <select id="notificationType">
                <option value="popup">텍스트 팝업</option>
                <option value="beep">삐 소리</option>
                <option value="speech">음성</option>
              </select>
            </div>
          </fieldset>

          <fieldset>
            <legend>배경화면 설정</legend>
            <div>
              <label for="backgroundType">배경 타입:</label>
              <select id="backgroundType">
                <option value="fade" selected>페이드 효과</option>
                <option value="color">단색 배경</option>
                <option value="image">이미지 배경</option>
              </select>
            </div>
            <div
              id="colorPickerContainer"
              class="background-option-container"
              style="display: none"
            >
              <label for="colorPicker">배경 색상:</label>
              <input type="color" id="colorPicker" value="#FFFFFF" /> {/* 기본
              흰색 */}
            </div>
            <div
              id="imageUploadContainer"
              class="background-option-container"
              style="display: none"
            >
              <label for="imageUpload">이미지 선택:</label>
              <input type="file" id="imageUpload" accept="image/*" />
              <div class="upload-hint">(이미지 없을 시 단색 배경 적용)</div>
            </div>
          </fieldset>

          <fieldset>
            <legend>배경 오디오 (유튜브)</legend>
            <div class="youtube-input-group">
              <label for="youtubeUrl">유튜브 링크:</label>
              <input
                type="text"
                id="youtubeUrl"
                placeholder="https://youtube.com/watch?v=..."
              />
              <button id="loadYoutubeButton" title="유튜브 오디오 로드">
                로드
              </button>
            </div>
            <div id="youtubeStatus">오디오 없음</div>
          </fieldset>
        </div>

        <div class="start-button-container">
          <button id="startButton">시작</button>
        </div>

        <div class="running-buttons">
          <button id="pauseButton" disabled>일시정지</button>
          <button id="resetButton">초기화</button>
        </div>
      </div>

      <div id="youtube-player-container">
        <div id="youtube-player"></div>
      </div>

      <div id="notificationModal" class="modal">
        <div class="modal-content">
          <span class="close-button" id="modalCloseButton">×</span>
          <p id="modalMessage"></p>
        </div>
      </div>
      <div id="modalOverlay" class="modal-overlay"></div>
    </div>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="script.js"></script>
  </body>
</html>
